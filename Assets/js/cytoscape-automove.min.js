/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/cytoscape-automove@1.10.2/cytoscape-automove.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(n,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.cytoscapeAutomove=e():n.cytoscapeAutomove=e()}(this,function(){return function(n){var e={};function t(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return n[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}return t.m=n,t.c=e,t.i=function(n){return n},t.d=function(n,e,o){t.o(n,e)||Object.defineProperty(n,e,{configurable:!1,enumerable:!0,get:o})},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=3)}([function(n,e,t){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},r=t(2),i=o(""),u=o({}),c=o(function(){}),s=function(n){return(void 0===n?"undefined":o(n))===u},f=function(n){return(void 0===n?"undefined":o(n))===c},a=function(n){return s(n)&&f(n.collection)},d=t(1),l=function(n){return null!=n&&!n.removed()},y=function(n,e){return(y=null!=n.has?function(n,e){return n.has(e)}:function(n,e){return n.intersection(e).length>0})(n,e)},h=function(n){if((void 0===(e=n)?"undefined":o(e))===i)return function(e){return e.is(n)};if(f(n))return n;if(a(n))return function(e){return y(n,e)};throw new Error("Can not create match function for spec",n);var e},p=[],g=function(n,e,t,o){var r={cy:n,events:e,selector:t||"node",fn:o};return p.push(r),n.on(r.events,r.selector,r.fn),r},v=function(n,e,t,o,r){var i=g(e,t,o,r);(n.bindings=n.bindings||[]).push(i)},m=function(n){n.bindings.forEach(function(n){n.cy.off(n.events,n.selector,n.fn)}),n.bindings=[]},b=function(n){return function(e){var t=e.position(),o=n.delta;if(null!=n.delta&&!e.same(n.grabbedNode)&&!e.grabbed())return{x:t.x+o.x,y:t.y+o.y}}},x=function(n){return function(e){for(var t=e.neighborhood(),o={x:0,y:0},r=0,i=0;i<t.length;i++){var u=t[i];if(u.isNode()&&!n(u)){var c=u.position();o.x+=c.x,o.y+=c.y,r++}}if(!(r<2))return o.x/=r,o.y/=r,o}},N=function(n,e,t){return n<e?e:n>t?t:n},w=function(n,e){var t=n.position();return{x:N(t.x,e.x1,e.x2),y:N(t.y,e.y1,e.y2)}},O=function(n){return function(e){return w(e,n)}},j=function(n){return function(e){return function(n,e){var t=n.position(),o=t.x,r=t.y,i=e.x1,u=e.y1,c=e.x2,s=e.y2,f=i<=o&&o<=c,a=u<=r&&r<=s,d=Math.abs;if(f&&a){var l=d(i-o),y=d(c-o),h=d(u-r),p=d(s-r),g=Math.min(l,y,h,p);return g===l?{x:i,y:r}:g===y?{x:c,y:r}:g===h?{x:o,y:u}:{x:o,y:s}}return{x:o,y:r}}(e,n)}},M=function(n){return function(e){var t=n.extent(),o=e.outerWidth(),r=e.outerHeight(),i={x1:t.x1+o/2,x2:t.x2-o/2,y1:t.y1+r/2,y2:t.y2-r/2};return w(e,i)}},E=function(n,e){return"mean"===e.reposition?function(n){return function(e,t){var o=function(e){return n.matches(e)&&e.neighborhood().length>2&&!e.grabbed()};v(n,t,"position","node",function(){(this.neighborhood().some(o)||n.meanOnSelfPosition(this)&&o(this))&&e(t,[n])}),v(n,t,"add remove","edge",function(){[t.getElementById(this.data("source")),t.getElementById(this.data("target"))].some(o)&&e(t,[n])})}}(e):"drag"===e.reposition?function(n){return function(e,t){v(n,t,"grab","node",function(){if(n.dragWithMatches(this)){var e=this.position();n.grabbedNode=this,n.p1={x:e.x,y:e.y},n.delta={x:0,y:0}}}),v(n,t,"drag","node",function(){if(this.same(n.grabbedNode)){var o=n.delta,r=n.p1,i=this.position(),u={x:i.x,y:i.y};o.x=u.x-r.x,o.y=u.y-r.y,n.p1=u,e(t,[n])}}),v(n,t,"free","node",function(){n.grabbedNode=null,n.delta=null,n.p1=null})}}(e):s(e.reposition)||"matching"===e.when||"viewport"===e.reposition?function(n){return function(e,t){v(n,t,"position","node",function(){n.matches(this)&&e(t,[n])})}}(e):e.when},S=function(n,e,t){var o=d({},r,t);if(o.getNewPos=function(n,e){var t=n.reposition;return"mean"===t?x(h(n.meanIgnores)):"viewport"===t?M(e):"drag"===t?b(n):s(t)?null==t.type||"inside"==t.type?O(t):"outside"==t.type?j(t):void 0:t}(o,n),o.listener=E(0,o),a(o.nodesMatching))o.nodes=o.nodesMatching.slice(),o.matches=function(n){return l(n)&&y(o.nodes,n)};else{var i=h(o.nodesMatching);o.matches=function(n){return l(n)&&i(n)}}return null!=o.dragWith&&(o.dragWithMatches=h(o.dragWith)),o.listener(function(){P(n,[o])},n),o.enabled=!0,e.rules.push(o),o},A=function(n,e){n.removeListener("add","node",e.onAddNode),n.removeListener("remove","node",e.onRmNode)},P=function(n,e){var t=n.scratch().automove;e=null!=e?e:t.rules,n.batch(function(){for(var n=0;n<e.length;n++){var o=e[n];if(o.destroyed||!o.enabled)break;for(var r=o.nodes||t.nodes,i=r.length-1;i>=0;i--){var u=r[i];if(u.removed())r.unmerge(u);else if(o.matches(u)){var c=u.position(),s=o.getNewPos(u);null!=s&&(c.x!==s.x||c.y!==s.y)&&(u.position(s),u.trigger("automove",[o]))}}}})};n.exports=function(n){var e=this,t=e.scratch().automove=e.scratch().automove||{rules:[]};if(0===t.rules.length&&(t.nodes=e.nodes().slice(),function(n,e){e.onAddNode=function(n){var t=n.target;e.nodes.merge(t)},e.onRmNode=function(n){var t=n.target;e.nodes.unmerge(t)},n.on("add","node",e.onAddNode),n.on("remove","node",e.onRmNode)}(e,t)),"destroy"===n)return t.rules.forEach(function(n){m(n),n.destroyed=!0}),t.rules.splice(0,t.rules.length),void A(e,t);var o=S(e,t,n);return P(e,[o]),{apply:function(){P(e,[o])},disable:function(){this.toggle(!1)},enable:function(){this.toggle(!0)},enabled:function(){return o.enabled},toggle:function(n){o.enabled=void 0!==n?n:!o.enabled,o.enabled&&P(e,[o])},destroy:function(){var n=t.rules;return m(o),o.destroyed=!0,n.splice(n.indexOf(o),1),0===n.length&&A(e,t),this}}}},function(n,e,t){"use strict";n.exports=null!=Object.assign?Object.assign.bind(Object):function(n){for(var e=arguments.length,t=Array(e>1?e-1:0),o=1;o<e;o++)t[o-1]=arguments[o];return t.forEach(function(e){Object.keys(e).forEach(function(t){return n[t]=e[t]})}),n}},function(n,e,t){"use strict";var o={nodesMatching:function(n){return!1},reposition:"mean",when:void 0,meanIgnores:function(n){return!1},meanOnSelfPosition:function(n){return!0},dragWith:function(n){return!1}};n.exports=o},function(n,e,t){"use strict";var o=t(0),r=function(n){n&&n("core","automove",o)};"undefined"!=typeof cytoscape&&r(cytoscape),n.exports=r}])});
//# sourceMappingURL=/sm/0d553a98cd915f6a0b8f683f3073d569ea3aa67af3cba86924562b4fe723c820.map